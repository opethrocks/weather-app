{"remainingRequest":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/matt/projects/vue-weather-app/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"/Users/matt/projects/vue-weather-app/src/views/Home.vue","mtime":1601160686525},{"path":"/Users/matt/projects/vue-weather-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZsZXgtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGZsZXgtZmxvdzogcm93IHdyYXA7Cn0KI2Ryb3Bkb3duIHsKICBoZWlnaHQ6IDMwMHB4OwogIHdpZHRoOiAxMDBweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgb3ZlcmZsb3cteTogYXV0bzsKfQojc3RhdGUtc2VsZWN0IHsKICBtYXJnaW46IDBlbSAxZW0gMWVtIDBlbTsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"columns is-centered\">\n      <div class=\"column is-one-third\">\n        <div\n          class=\"dropdown\"\n          :class=\"{ 'is-active': dropdown }\"\n          id=\"state-select\"\n          @click=\"showDropdown\"\n        >\n          <div class=\"dropdown-trigger\">\n            <button\n              class=\"button\"\n              aria-haspopup=\"true\"\n              aria-controls=\"dropdown-menu4\"\n            >\n              <span>State: {{ selectedState }}</span>\n              <span class=\"icon is-small\">\n                <font-awesome-icon icon=\"angle-down\" />\n              </span>\n            </button>\n          </div>\n          <div class=\"dropdown-menu\" id=\"dropdown-menu4\" role=\"menu\">\n            <div class=\"dropdown-content\" id=\"dropdown\">\n              <a\n                v-for=\"(state, index) in stateList\"\n                :key=\"index\"\n                href=\"#\"\n                class=\"dropdown-item\"\n                :class=\"{ 'is-active': state.isActive }\"\n                @click=\"selectItem(state)\"\n              >\n                {{ state.name }}\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"field\">\n          <div class=\"control has-icons-left has-icons-right\">\n            <input\n              class=\"input is-info is-rounded\"\n              type=\"text\"\n              placeholder=\"Search for city\"\n              v-model.lazy=\"input\"\n            />\n            <span class=\"icon is-left\">\n              <font-awesome-icon icon=\"search\" />\n            </span>\n            <span class=\"icon is-right\">\n              <a class=\"delete is-small\" @click=\"clearForm\"></a>\n            </span>\n\n            <button\n              class=\"button is-rounded is-info is-small\"\n              style=\"margin-top: 1em; margin-right: 1em\"\n              @click=\"searchImperial\"\n            >\n              Imperial\n            </button>\n            <button\n              class=\"button is-rounded is-success is-small\"\n              style=\"margin-top: 1em\"\n              @click=\"searchMetric\"\n            >\n              Metric\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div v-if=\"currentWeather\">\n        <current-conditions\n          :forecastWeather=\"weatherForecast\"\n          :currentWeather=\"currentWeather\"\n          :unitSelected=\"selectedUnit\"\n          :isActive=\"toggleForecast\"\n          :cityData=\"getCityData\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport CurrentConditions from '@/components/CurrentConditions.vue';\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Home',\n  components: {\n    CurrentConditions\n  },\n  data() {\n    return {\n      input: null,\n      city: 'Lake Charles',\n      units: 'imperial',\n      cityCode: null,\n      stateList: [],\n      countryList: [],\n      selectedState: 'LA',\n      dropdown: false\n    };\n  },\n  computed: {\n    getCityData() {\n      return this.cityData.filter(\n        (obj) => obj.state === this.selectedState && obj.name === this.city\n      );\n    },\n    getCityCode() {\n      return this.getCityData.map((obj) => obj.id);\n    },\n    getCityCoords() {\n      return this.getCityData.map((obj) => obj.coord);\n    },\n    ...mapGetters([\n      'currentWeather',\n      'weatherForecast',\n      'selectedUnit',\n      'toggleForecast',\n      'cityData'\n    ])\n  },\n  methods: {\n    ...mapActions(['currentWeather', 'weatherForecast']),\n    ...mapActions({\n      weather: 'currentWeather',\n      forecast: 'weatherForecast'\n    }),\n\n    searchImperial() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.cityCode = this.getCityCode[0];\n      this.units = 'imperial';\n      this.weather({\n        city: this.cityCode,\n        unit: this.units\n      });\n      this.forecast({\n        city: this.cityCode,\n        unit: this.units\n      });\n    },\n    searchMetric() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.cityCode = this.getCityCode[0];\n      this.units = 'metric';\n      this.weather({\n        city: this.cityCode,\n        unit: this.units\n      });\n      this.forecast({\n        city: this.cityCode,\n        unit: this.units\n      });\n    },\n    clearForm() {\n      this.input = null;\n    },\n    selectItem(event) {\n      this.stateList.map((state) => (state.isActive = false));\n      event.isActive = true;\n      this.selectedState = event.name;\n    },\n    showDropdown() {\n      this.dropdown === false\n        ? (this.dropdown = true)\n        : (this.dropdown = false);\n    }\n  },\n\n  created() {\n    this.cityData.filter((obj) => {\n      if (obj.state != '') {\n        this.stateList.push(obj.state);\n      }\n    });\n    this.stateList.sort().shift();\n    this.stateList = this.stateList.filter(\n      (cur, ind, arr) => arr.indexOf(cur) === ind\n    );\n    this.stateList = this.stateList.map((state) =>\n      Object.assign({ name: state, isActive: false })\n    );\n  },\n  mounted() {\n    this.cityCode = this.getCityCode[0];\n    this.weather({\n      city: this.cityCode,\n      unit: this.units\n    });\n    this.forecast({\n      city: this.cityCode,\n      unit: this.units\n    });\n  }\n};\n</script>\n\n<style scoped>\n.flex-container {\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n}\n#dropdown {\n  height: 300px;\n  width: 100px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n}\n#state-select {\n  margin: 0em 1em 1em 0em;\n}\n</style>\n"]}]}