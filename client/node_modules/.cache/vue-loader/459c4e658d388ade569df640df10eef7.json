{"remainingRequest":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/matt/projects/vue-weather-app/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/matt/projects/vue-weather-app/src/views/Home.vue","mtime":1601160686525},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXJyZW50Q29uZGl0aW9ucyBmcm9tICdAL2NvbXBvbmVudHMvQ3VycmVudENvbmRpdGlvbnMudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBDdXJyZW50Q29uZGl0aW9ucwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0OiBudWxsLAogICAgICBjaXR5OiAnTGFrZSBDaGFybGVzJywKICAgICAgdW5pdHM6ICdpbXBlcmlhbCcsCiAgICAgIGNpdHlDb2RlOiBudWxsLAogICAgICBzdGF0ZUxpc3Q6IFtdLAogICAgICBjb3VudHJ5TGlzdDogW10sCiAgICAgIHNlbGVjdGVkU3RhdGU6ICdMQScsCiAgICAgIGRyb3Bkb3duOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRDaXR5RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2l0eURhdGEuZmlsdGVyKAogICAgICAgIChvYmopID0+IG9iai5zdGF0ZSA9PT0gdGhpcy5zZWxlY3RlZFN0YXRlICYmIG9iai5uYW1lID09PSB0aGlzLmNpdHkKICAgICAgKTsKICAgIH0sCiAgICBnZXRDaXR5Q29kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2l0eURhdGEubWFwKChvYmopID0+IG9iai5pZCk7CiAgICB9LAogICAgZ2V0Q2l0eUNvb3JkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2l0eURhdGEubWFwKChvYmopID0+IG9iai5jb29yZCk7CiAgICB9LAogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdjdXJyZW50V2VhdGhlcicsCiAgICAgICd3ZWF0aGVyRm9yZWNhc3QnLAogICAgICAnc2VsZWN0ZWRVbml0JywKICAgICAgJ3RvZ2dsZUZvcmVjYXN0JywKICAgICAgJ2NpdHlEYXRhJwogICAgXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydjdXJyZW50V2VhdGhlcicsICd3ZWF0aGVyRm9yZWNhc3QnXSksCiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgd2VhdGhlcjogJ2N1cnJlbnRXZWF0aGVyJywKICAgICAgZm9yZWNhc3Q6ICd3ZWF0aGVyRm9yZWNhc3QnCiAgICB9KSwKCiAgICBzZWFyY2hJbXBlcmlhbCgpIHsKICAgICAgbGV0IHN0ciA9IHRoaXMuaW5wdXQKICAgICAgICAudG9Mb3dlckNhc2UoKQogICAgICAgIC5zcGxpdCgnICcpCiAgICAgICAgLm1hcCgod29yZCkgPT4gd29yZFswXS50b1VwcGVyQ2FzZSgpICsgd29yZC5zdWJzdHIoMSkpCiAgICAgICAgLmpvaW4oJyAnKTsKICAgICAgdGhpcy5jaXR5ID0gc3RyOwogICAgICB0aGlzLmNpdHlDb2RlID0gdGhpcy5nZXRDaXR5Q29kZVswXTsKICAgICAgdGhpcy51bml0cyA9ICdpbXBlcmlhbCc7CiAgICAgIHRoaXMud2VhdGhlcih7CiAgICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgICB1bml0OiB0aGlzLnVuaXRzCiAgICAgIH0pOwogICAgICB0aGlzLmZvcmVjYXN0KHsKICAgICAgICBjaXR5OiB0aGlzLmNpdHlDb2RlLAogICAgICAgIHVuaXQ6IHRoaXMudW5pdHMKICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoTWV0cmljKCkgewogICAgICBsZXQgc3RyID0gdGhpcy5pbnB1dAogICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgLnNwbGl0KCcgJykKICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnN1YnN0cigxKSkKICAgICAgICAuam9pbignICcpOwogICAgICB0aGlzLmNpdHkgPSBzdHI7CiAgICAgIHRoaXMuY2l0eUNvZGUgPSB0aGlzLmdldENpdHlDb2RlWzBdOwogICAgICB0aGlzLnVuaXRzID0gJ21ldHJpYyc7CiAgICAgIHRoaXMud2VhdGhlcih7CiAgICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgICB1bml0OiB0aGlzLnVuaXRzCiAgICAgIH0pOwogICAgICB0aGlzLmZvcmVjYXN0KHsKICAgICAgICBjaXR5OiB0aGlzLmNpdHlDb2RlLAogICAgICAgIHVuaXQ6IHRoaXMudW5pdHMKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJGb3JtKCkgewogICAgICB0aGlzLmlucHV0ID0gbnVsbDsKICAgIH0sCiAgICBzZWxlY3RJdGVtKGV2ZW50KSB7CiAgICAgIHRoaXMuc3RhdGVMaXN0Lm1hcCgoc3RhdGUpID0+IChzdGF0ZS5pc0FjdGl2ZSA9IGZhbHNlKSk7CiAgICAgIGV2ZW50LmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy5zZWxlY3RlZFN0YXRlID0gZXZlbnQubmFtZTsKICAgIH0sCiAgICBzaG93RHJvcGRvd24oKSB7CiAgICAgIHRoaXMuZHJvcGRvd24gPT09IGZhbHNlCiAgICAgICAgPyAodGhpcy5kcm9wZG93biA9IHRydWUpCiAgICAgICAgOiAodGhpcy5kcm9wZG93biA9IGZhbHNlKTsKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5jaXR5RGF0YS5maWx0ZXIoKG9iaikgPT4gewogICAgICBpZiAob2JqLnN0YXRlICE9ICcnKSB7CiAgICAgICAgdGhpcy5zdGF0ZUxpc3QucHVzaChvYmouc3RhdGUpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuc3RhdGVMaXN0LnNvcnQoKS5zaGlmdCgpOwogICAgdGhpcy5zdGF0ZUxpc3QgPSB0aGlzLnN0YXRlTGlzdC5maWx0ZXIoCiAgICAgIChjdXIsIGluZCwgYXJyKSA9PiBhcnIuaW5kZXhPZihjdXIpID09PSBpbmQKICAgICk7CiAgICB0aGlzLnN0YXRlTGlzdCA9IHRoaXMuc3RhdGVMaXN0Lm1hcCgoc3RhdGUpID0+CiAgICAgIE9iamVjdC5hc3NpZ24oeyBuYW1lOiBzdGF0ZSwgaXNBY3RpdmU6IGZhbHNlIH0pCiAgICApOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2l0eUNvZGUgPSB0aGlzLmdldENpdHlDb2RlWzBdOwogICAgdGhpcy53ZWF0aGVyKHsKICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgdW5pdDogdGhpcy51bml0cwogICAgfSk7CiAgICB0aGlzLmZvcmVjYXN0KHsKICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgdW5pdDogdGhpcy51bml0cwogICAgfSk7CiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"columns is-centered\">\n      <div class=\"column is-one-third\">\n        <div\n          class=\"dropdown\"\n          :class=\"{ 'is-active': dropdown }\"\n          id=\"state-select\"\n          @click=\"showDropdown\"\n        >\n          <div class=\"dropdown-trigger\">\n            <button\n              class=\"button\"\n              aria-haspopup=\"true\"\n              aria-controls=\"dropdown-menu4\"\n            >\n              <span>State: {{ selectedState }}</span>\n              <span class=\"icon is-small\">\n                <font-awesome-icon icon=\"angle-down\" />\n              </span>\n            </button>\n          </div>\n          <div class=\"dropdown-menu\" id=\"dropdown-menu4\" role=\"menu\">\n            <div class=\"dropdown-content\" id=\"dropdown\">\n              <a\n                v-for=\"(state, index) in stateList\"\n                :key=\"index\"\n                href=\"#\"\n                class=\"dropdown-item\"\n                :class=\"{ 'is-active': state.isActive }\"\n                @click=\"selectItem(state)\"\n              >\n                {{ state.name }}\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"field\">\n          <div class=\"control has-icons-left has-icons-right\">\n            <input\n              class=\"input is-info is-rounded\"\n              type=\"text\"\n              placeholder=\"Search for city\"\n              v-model.lazy=\"input\"\n            />\n            <span class=\"icon is-left\">\n              <font-awesome-icon icon=\"search\" />\n            </span>\n            <span class=\"icon is-right\">\n              <a class=\"delete is-small\" @click=\"clearForm\"></a>\n            </span>\n\n            <button\n              class=\"button is-rounded is-info is-small\"\n              style=\"margin-top: 1em; margin-right: 1em\"\n              @click=\"searchImperial\"\n            >\n              Imperial\n            </button>\n            <button\n              class=\"button is-rounded is-success is-small\"\n              style=\"margin-top: 1em\"\n              @click=\"searchMetric\"\n            >\n              Metric\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name=\"fade\">\n      <div v-if=\"currentWeather\">\n        <current-conditions\n          :forecastWeather=\"weatherForecast\"\n          :currentWeather=\"currentWeather\"\n          :unitSelected=\"selectedUnit\"\n          :isActive=\"toggleForecast\"\n          :cityData=\"getCityData\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport CurrentConditions from '@/components/CurrentConditions.vue';\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Home',\n  components: {\n    CurrentConditions\n  },\n  data() {\n    return {\n      input: null,\n      city: 'Lake Charles',\n      units: 'imperial',\n      cityCode: null,\n      stateList: [],\n      countryList: [],\n      selectedState: 'LA',\n      dropdown: false\n    };\n  },\n  computed: {\n    getCityData() {\n      return this.cityData.filter(\n        (obj) => obj.state === this.selectedState && obj.name === this.city\n      );\n    },\n    getCityCode() {\n      return this.getCityData.map((obj) => obj.id);\n    },\n    getCityCoords() {\n      return this.getCityData.map((obj) => obj.coord);\n    },\n    ...mapGetters([\n      'currentWeather',\n      'weatherForecast',\n      'selectedUnit',\n      'toggleForecast',\n      'cityData'\n    ])\n  },\n  methods: {\n    ...mapActions(['currentWeather', 'weatherForecast']),\n    ...mapActions({\n      weather: 'currentWeather',\n      forecast: 'weatherForecast'\n    }),\n\n    searchImperial() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.cityCode = this.getCityCode[0];\n      this.units = 'imperial';\n      this.weather({\n        city: this.cityCode,\n        unit: this.units\n      });\n      this.forecast({\n        city: this.cityCode,\n        unit: this.units\n      });\n    },\n    searchMetric() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.cityCode = this.getCityCode[0];\n      this.units = 'metric';\n      this.weather({\n        city: this.cityCode,\n        unit: this.units\n      });\n      this.forecast({\n        city: this.cityCode,\n        unit: this.units\n      });\n    },\n    clearForm() {\n      this.input = null;\n    },\n    selectItem(event) {\n      this.stateList.map((state) => (state.isActive = false));\n      event.isActive = true;\n      this.selectedState = event.name;\n    },\n    showDropdown() {\n      this.dropdown === false\n        ? (this.dropdown = true)\n        : (this.dropdown = false);\n    }\n  },\n\n  created() {\n    this.cityData.filter((obj) => {\n      if (obj.state != '') {\n        this.stateList.push(obj.state);\n      }\n    });\n    this.stateList.sort().shift();\n    this.stateList = this.stateList.filter(\n      (cur, ind, arr) => arr.indexOf(cur) === ind\n    );\n    this.stateList = this.stateList.map((state) =>\n      Object.assign({ name: state, isActive: false })\n    );\n  },\n  mounted() {\n    this.cityCode = this.getCityCode[0];\n    this.weather({\n      city: this.cityCode,\n      unit: this.units\n    });\n    this.forecast({\n      city: this.cityCode,\n      unit: this.units\n    });\n  }\n};\n</script>\n\n<style scoped>\n.flex-container {\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n}\n#dropdown {\n  height: 300px;\n  width: 100px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n}\n#state-select {\n  margin: 0em 1em 1em 0em;\n}\n</style>\n"]}]}