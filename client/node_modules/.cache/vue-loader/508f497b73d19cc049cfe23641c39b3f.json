{"remainingRequest":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/matt/projects/vue-weather-app/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/matt/projects/vue-weather-app/src/views/Home.vue","mtime":1602612474664},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXJyZW50Q29uZGl0aW9ucyBmcm9tICdAL2NvbXBvbmVudHMvQ3VycmVudENvbmRpdGlvbnMudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgd29ybGRDb3VudHJpZXMgZnJvbSAnLi4vLi4vcHVibGljL2NvdW50cmllcy5qcyc7CmltcG9ydCBzdGF0ZXMgZnJvbSAnLi4vLi4vcHVibGljL3N0YXRlcy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEN1cnJlbnRDb25kaXRpb25zCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6IG51bGwsCiAgICAgIHN0YXRlOiBudWxsLAogICAgICBjb3VudHJ5OiBudWxsLAogICAgICBjaXR5OiBudWxsLAogICAgICB1bml0czogbnVsbCwKICAgICAgY2l0eUNvZGU6IG51bGwsCiAgICAgIGNvdW50cmllczogd29ybGRDb3VudHJpZXMsCiAgICAgIHN0YXRlczogc3RhdGVzLAogICAgICBhY3RpdmVTdGF0ZURyb3Bkb3duOiBmYWxzZSwKICAgICAgYWN0aXZlQ291bnRyeURyb3Bkb3duOiBmYWxzZSwKICAgICAgc3RhdGVEcm9wZG93blRleHQ6ICdTZWxlY3QgYSBzdGF0ZScsCiAgICAgIGNvdW50cnlEcm9wZG93blRleHQ6ICdTZWxlY3QgYSBjb3VudHJ5JwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRDaXR5Q29kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudENpdHkuZGF0YS5tYXAoKG9iaikgPT4gb2JqLmlkKTsKICAgIH0sCiAgICBnZXRDaXR5Q29vcmRzKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50Q2l0eS5kYXRhLm1hcCgob2JqKSA9PiBvYmouY29vcmQpOwogICAgfSwKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAnY3VycmVudFdlYXRoZXInLAogICAgICAnd2VhdGhlckZvcmVjYXN0JywKICAgICAgJ3NlbGVjdGVkVW5pdCcsCiAgICAgICd0b2dnbGVGb3JlY2FzdCcsCiAgICAgICdjdXJyZW50Q2l0eScKICAgIF0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnY3VycmVudFdlYXRoZXInLCAnd2VhdGhlckZvcmVjYXN0JywgJ2FkZENpdHknXSksCiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgd2VhdGhlcjogJ2N1cnJlbnRXZWF0aGVyJywKICAgICAgZm9yZWNhc3Q6ICd3ZWF0aGVyRm9yZWNhc3QnLAogICAgICBhZGRDaXR5OiAnYWRkQ2l0eScKICAgIH0pLAoKICAgIHNlYXJjaEltcGVyaWFsKCkgewogICAgICBsZXQgc3RyID0gdGhpcy5pbnB1dAogICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgLnNwbGl0KCcgJykKICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnN1YnN0cigxKSkKICAgICAgICAuam9pbignICcpOwogICAgICB0aGlzLmNpdHkgPSBzdHI7CiAgICAgIHRoaXMudW5pdHMgPSAnaW1wZXJpYWwnOwoKICAgICAgdGhpcy5hZGRDaXR5KHsKICAgICAgICBjaXR5OiB0aGlzLmNpdHksCiAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsCiAgICAgICAgY291bnRyeTogdGhpcy5jb3VudHJ5CiAgICAgIH0pOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmNpdHlDb2RlID0gdGhpcy5nZXRDaXR5Q29kZVswXTsKICAgICAgICB0aGlzLndlYXRoZXIoewogICAgICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgICAgIHVuaXQ6IHRoaXMudW5pdHMKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZvcmVjYXN0KHsKICAgICAgICAgIGNpdHk6IHRoaXMuY2l0eUNvZGUsCiAgICAgICAgICB1bml0OiB0aGlzLnVuaXRzCiAgICAgICAgfSk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgc2VhcmNoTWV0cmljKCkgewogICAgICBsZXQgc3RyID0gdGhpcy5pbnB1dAogICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgLnNwbGl0KCcgJykKICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnN1YnN0cigxKSkKICAgICAgICAuam9pbignICcpOwogICAgICB0aGlzLmNpdHkgPSBzdHI7CiAgICAgIHRoaXMudW5pdHMgPSAnbWV0cmljJzsKCiAgICAgIHRoaXMuYWRkQ2l0eSh7CiAgICAgICAgY2l0eTogdGhpcy5jaXR5LAogICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLAogICAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeQogICAgICB9KTsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuY2l0eUNvZGUgPSB0aGlzLmdldENpdHlDb2RlWzBdOwogICAgICAgIHRoaXMud2VhdGhlcih7CiAgICAgICAgICBjaXR5OiB0aGlzLmNpdHlDb2RlLAogICAgICAgICAgdW5pdDogdGhpcy51bml0cwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZm9yZWNhc3QoewogICAgICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgICAgIHVuaXQ6IHRoaXMudW5pdHMKICAgICAgICB9KTsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgICBjbGVhckNpdHkoKSB7CiAgICAgIHRoaXMuaW5wdXQgPSBudWxsOwogICAgfSwKICAgIHRvZ2dsZVN0YXRlRHJvcGRvd24oKSB7CiAgICAgIHRoaXMuYWN0aXZlU3RhdGVEcm9wZG93biA9PT0gZmFsc2UKICAgICAgICA/ICh0aGlzLmFjdGl2ZVN0YXRlRHJvcGRvd24gPSB0cnVlKQogICAgICAgIDogKHRoaXMuYWN0aXZlU3RhdGVEcm9wZG93biA9IGZhbHNlKTsKICAgIH0sCiAgICB0b2dnbGVDb3VudHJ5RHJvcGRvd24oKSB7CiAgICAgIHRoaXMuYWN0aXZlQ291bnRyeURyb3Bkb3duID09PSBmYWxzZQogICAgICAgID8gKHRoaXMuYWN0aXZlQ291bnRyeURyb3Bkb3duID0gdHJ1ZSkKICAgICAgICA6ICh0aGlzLmFjdGl2ZUNvdW50cnlEcm9wZG93biA9IGZhbHNlKTsKICAgIH0sCiAgICBzZWxlY3RTdGF0ZURyb3Bkb3duSXRlbShzdGF0ZSkgewogICAgICB0aGlzLnN0YXRlcy5tYXAoKGl0ZW0pID0+IChpdGVtLmlzQWN0aXZlID0gZmFsc2UpKTsKICAgICAgc3RhdGUuaXNBY3RpdmUgPSB0cnVlOwogICAgICB0aGlzLnN0YXRlID0gc3RhdGUuYWJicmV2aWF0aW9uOwogICAgICB0aGlzLnN0YXRlRHJvcGRvd25UZXh0ID0gc3RhdGUubmFtZTsKICAgICAgdGhpcy5jb3VudHJ5ID0gbnVsbDsKICAgICAgdGhpcy5jb3VudHJ5RHJvcGRvd25UZXh0ID0gJ1NlbGVjdCBhIGNvdW50cnknOwogICAgfSwKICAgIHNlbGVjdENvdW50cnlEcm9wZG93bkl0ZW0oY291bnRyeSkgewogICAgICB0aGlzLmNvdW50cmllcy5tYXAoKGl0ZW0pID0+IChpdGVtLmlzQWN0aXZlID0gZmFsc2UpKTsKICAgICAgY291bnRyeS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuY291bnRyeSA9IGNvdW50cnkuYWJicmV2aWF0aW9uOwogICAgICB0aGlzLmNvdW50cnlEcm9wZG93blRleHQgPSBjb3VudHJ5Lm5hbWU7CiAgICAgIHRoaXMuc3RhdGUgPSBudWxsOwogICAgICB0aGlzLnN0YXRlRHJvcGRvd25UZXh0ID0gJ1NlbGVjdCBhIHN0YXRlJzsKICAgIH0sCiAgICBzdGF0ZUNhc2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlCiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuc3BsaXQoJyAnKQogICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc3Vic3RyKDEpKQogICAgICAgIC5qb2luKCcgJyk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"dropdown-container\">\n      <div\n        class=\"dropdown is-left\"\n        :class=\"{ 'is-active': activeStateDropdown }\"\n        @mouseenter=\"toggleStateDropdown\"\n        @mouseleave=\"toggleStateDropdown\"\n      >\n        <div class=\"dropdown-trigger\">\n          <button\n            class=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu3\"\n          >\n            <span>{{ stateCase(stateDropdownText) }}</span>\n            <span class=\"icon is-right\" id=\"icon\">\n              <i class=\"fa fa-angle-double-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div class=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\n          <div class=\"dropdown-content\" id=\"dropdown-flex\">\n            <a\n              href=\"#\"\n              class=\"dropdown-item\"\n              :class=\"{ 'is-active': state.isActive }\"\n              v-for=\"state in states\"\n              :key=\"state.name\"\n              @click=\"selectStateDropdownItem(state)\"\n            >\n              {{ stateCase(state.name) }}\n            </a>\n          </div>\n        </div>\n      </div>\n      <h3 class=\"pl-2 pr-2 pt-1 is-size-5 has-text-weight-semibold\">OR</h3>\n      <div>\n        <div\n          class=\"dropdown is-right\"\n          :class=\"{ 'is-active': activeCountryDropdown }\"\n          @mouseenter=\"toggleCountryDropdown\"\n          @mouseleave=\"toggleCountryDropdown\"\n        >\n          <div class=\"dropdown-trigger\">\n            <button\n              class=\"button\"\n              aria-haspopup=\"true\"\n              aria-controls=\"dropdown-menu3\"\n            >\n              <span>{{ countryDropdownText }}</span>\n              <span class=\"icon is-right\" id=\"icon\">\n                <i class=\"fa fa-angle-double-down\"></i>\n              </span>\n            </button>\n          </div>\n          <div class=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\n            <div class=\"dropdown-content\" id=\"dropdown-flex\">\n              <a\n                href=\"#\"\n                class=\"dropdown-item\"\n                :class=\"{ 'is-active': country.isActive }\"\n                v-for=\"country in countries\"\n                :key=\"country.name\"\n                @click=\"selectCountryDropdownItem(country)\"\n              >\n                {{ country.name }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex-container\">\n      <div class=\"field\" id=\"input\">\n        <div class=\"control has-icons-left has-icons-right\">\n          <input\n            class=\"input is-info is-rounded\"\n            type=\"text\"\n            placeholder=\"Search for city\"\n            v-model.lazy=\"input\"\n            @keyup.enter=\"searchImperial\"\n          />\n          <span class=\"icon is-left\">\n            <font-awesome-icon icon=\"search\" />\n          </span>\n          <span class=\"icon is-right\">\n            <a class=\"delete is-small\" @click=\"clearCity\"></a>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-container\">\n      <button\n        class=\"button is-rounded is-info is-small\"\n        style=\"margin-top: 1em; margin-right: 1em\"\n        @click=\"searchImperial\"\n      >\n        Imperial\n      </button>\n      <button\n        class=\"button is-rounded is-success is-small\"\n        style=\"margin-top: 1em\"\n        @click=\"searchMetric\"\n      >\n        Metric\n      </button>\n    </div>\n    <br />\n    <transition name=\"fade\">\n      <div v-if=\"currentWeather\">\n        <current-conditions\n          :forecastWeather=\"weatherForecast\"\n          :currentWeather=\"currentWeather\"\n          :unitSelected=\"selectedUnit\"\n          :isActive=\"toggleForecast\"\n          :cityData=\"currentCity.data\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport CurrentConditions from '@/components/CurrentConditions.vue';\nimport { mapGetters, mapActions } from 'vuex';\nimport worldCountries from '../../public/countries.js';\nimport states from '../../public/states.js';\n\nexport default {\n  name: 'Home',\n  components: {\n    CurrentConditions\n  },\n  data() {\n    return {\n      input: null,\n      state: null,\n      country: null,\n      city: null,\n      units: null,\n      cityCode: null,\n      countries: worldCountries,\n      states: states,\n      activeStateDropdown: false,\n      activeCountryDropdown: false,\n      stateDropdownText: 'Select a state',\n      countryDropdownText: 'Select a country'\n    };\n  },\n  computed: {\n    getCityCode() {\n      return this.currentCity.data.map((obj) => obj.id);\n    },\n    getCityCoords() {\n      return this.currentCity.data.map((obj) => obj.coord);\n    },\n    ...mapGetters([\n      'currentWeather',\n      'weatherForecast',\n      'selectedUnit',\n      'toggleForecast',\n      'currentCity'\n    ])\n  },\n  methods: {\n    ...mapActions(['currentWeather', 'weatherForecast', 'addCity']),\n    ...mapActions({\n      weather: 'currentWeather',\n      forecast: 'weatherForecast',\n      addCity: 'addCity'\n    }),\n\n    searchImperial() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.units = 'imperial';\n\n      this.addCity({\n        city: this.city,\n        state: this.state,\n        country: this.country\n      });\n      setTimeout(() => {\n        this.cityCode = this.getCityCode[0];\n        this.weather({\n          city: this.cityCode,\n          unit: this.units\n        });\n        this.forecast({\n          city: this.cityCode,\n          unit: this.units\n        });\n      }, 500);\n    },\n    searchMetric() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.units = 'metric';\n\n      this.addCity({\n        city: this.city,\n        state: this.state,\n        country: this.country\n      });\n\n      setTimeout(() => {\n        this.cityCode = this.getCityCode[0];\n        this.weather({\n          city: this.cityCode,\n          unit: this.units\n        });\n        this.forecast({\n          city: this.cityCode,\n          unit: this.units\n        });\n      }, 500);\n    },\n    clearCity() {\n      this.input = null;\n    },\n    toggleStateDropdown() {\n      this.activeStateDropdown === false\n        ? (this.activeStateDropdown = true)\n        : (this.activeStateDropdown = false);\n    },\n    toggleCountryDropdown() {\n      this.activeCountryDropdown === false\n        ? (this.activeCountryDropdown = true)\n        : (this.activeCountryDropdown = false);\n    },\n    selectStateDropdownItem(state) {\n      this.states.map((item) => (item.isActive = false));\n      state.isActive = true;\n      this.state = state.abbreviation;\n      this.stateDropdownText = state.name;\n      this.country = null;\n      this.countryDropdownText = 'Select a country';\n    },\n    selectCountryDropdownItem(country) {\n      this.countries.map((item) => (item.isActive = false));\n      country.isActive = true;\n      this.country = country.abbreviation;\n      this.countryDropdownText = country.name;\n      this.state = null;\n      this.stateDropdownText = 'Select a state';\n    },\n    stateCase(state) {\n      return state\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.flex-container {\n  display: flex;\n  justify-content: center;\n}\n#input {\n  margin: 0.5em;\n}\n.dropdown-container {\n  display: flex;\n  justify-content: center;\n  margin: 1em;\n}\n#dropdown-flex {\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  height: 40em;\n}\n#icon {\n  padding-left: 0.5em;\n}\n</style>\n"]}]}