{"remainingRequest":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/matt/projects/vue-weather-app/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/matt/projects/vue-weather-app/src/views/Home.vue","mtime":1602687106447},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/matt/projects/vue-weather-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXJyZW50Q29uZGl0aW9ucyBmcm9tICdAL2NvbXBvbmVudHMvQ3VycmVudENvbmRpdGlvbnMudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgd29ybGRDb3VudHJpZXMgZnJvbSAnLi4vLi4vcHVibGljL2NvdW50cmllcy5qcyc7CmltcG9ydCBzdGF0ZXMgZnJvbSAnLi4vLi4vcHVibGljL3N0YXRlcy5qcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEN1cnJlbnRDb25kaXRpb25zCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6IG51bGwsCiAgICAgIHN0YXRlOiBudWxsLAogICAgICBjb3VudHJ5OiBudWxsLAogICAgICBjaXR5OiBudWxsLAogICAgICB1bml0czogbnVsbCwKICAgICAgY2l0eUNvZGU6IG51bGwsCiAgICAgIGNvdW50cmllczogd29ybGRDb3VudHJpZXMsCiAgICAgIHN0YXRlczogc3RhdGVzLAogICAgICBhY3RpdmVTdGF0ZURyb3Bkb3duOiBmYWxzZSwKICAgICAgYWN0aXZlQ291bnRyeURyb3Bkb3duOiBmYWxzZSwKICAgICAgc3RhdGVEcm9wZG93blRleHQ6ICdTZWxlY3QgU3RhdGUnLAogICAgICBjb3VudHJ5RHJvcGRvd25UZXh0OiAnU2VsZWN0IENvdW50cnknCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGdldENpdHlDb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50Q2l0eS5kYXRhLm1hcCgob2JqKSA9PiBvYmouaWQpOwogICAgfSwKICAgIGdldENpdHlDb29yZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRDaXR5LmRhdGEubWFwKChvYmopID0+IG9iai5jb29yZCk7CiAgICB9LAogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICdjdXJyZW50V2VhdGhlcicsCiAgICAgICd3ZWF0aGVyRm9yZWNhc3QnLAogICAgICAnc2VsZWN0ZWRVbml0JywKICAgICAgJ3RvZ2dsZUZvcmVjYXN0JywKICAgICAgJ2N1cnJlbnRDaXR5JwogICAgXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydjdXJyZW50V2VhdGhlcicsICd3ZWF0aGVyRm9yZWNhc3QnLCAnYWRkQ2l0eSddKSwKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICB3ZWF0aGVyOiAnY3VycmVudFdlYXRoZXInLAogICAgICBmb3JlY2FzdDogJ3dlYXRoZXJGb3JlY2FzdCcsCiAgICAgIGFkZENpdHk6ICdhZGRDaXR5JwogICAgfSksCgogICAgc2VhcmNoSW1wZXJpYWwoKSB7CiAgICAgIGxldCBzdHIgPSB0aGlzLmlucHV0CiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuc3BsaXQoJyAnKQogICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc3Vic3RyKDEpKQogICAgICAgIC5qb2luKCcgJyk7CiAgICAgIHRoaXMuY2l0eSA9IHN0cjsKICAgICAgdGhpcy51bml0cyA9ICdpbXBlcmlhbCc7CgogICAgICB0aGlzLmFkZENpdHkoewogICAgICAgIGNpdHk6IHRoaXMuY2l0eSwKICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSwKICAgICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnkKICAgICAgfSk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuY2l0eUNvZGUgPSB0aGlzLmdldENpdHlDb2RlWzBdOwogICAgICAgIHRoaXMud2VhdGhlcih7CiAgICAgICAgICBjaXR5OiB0aGlzLmNpdHlDb2RlLAogICAgICAgICAgdW5pdDogdGhpcy51bml0cwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZm9yZWNhc3QoewogICAgICAgICAgY2l0eTogdGhpcy5jaXR5Q29kZSwKICAgICAgICAgIHVuaXQ6IHRoaXMudW5pdHMKICAgICAgICB9KTsKICAgICAgfSwgNTAwKTsKICAgIH0sCiAgICBzZWFyY2hNZXRyaWMoKSB7CiAgICAgIGxldCBzdHIgPSB0aGlzLmlucHV0CiAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgICAgICAuc3BsaXQoJyAnKQogICAgICAgIC5tYXAoKHdvcmQpID0+IHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc3Vic3RyKDEpKQogICAgICAgIC5qb2luKCcgJyk7CiAgICAgIHRoaXMuY2l0eSA9IHN0cjsKICAgICAgdGhpcy51bml0cyA9ICdtZXRyaWMnOwoKICAgICAgdGhpcy5hZGRDaXR5KHsKICAgICAgICBjaXR5OiB0aGlzLmNpdHksCiAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsCiAgICAgICAgY291bnRyeTogdGhpcy5jb3VudHJ5CiAgICAgIH0pOwoKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5jaXR5Q29kZSA9IHRoaXMuZ2V0Q2l0eUNvZGVbMF07CiAgICAgICAgdGhpcy53ZWF0aGVyKHsKICAgICAgICAgIGNpdHk6IHRoaXMuY2l0eUNvZGUsCiAgICAgICAgICB1bml0OiB0aGlzLnVuaXRzCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5mb3JlY2FzdCh7CiAgICAgICAgICBjaXR5OiB0aGlzLmNpdHlDb2RlLAogICAgICAgICAgdW5pdDogdGhpcy51bml0cwogICAgICAgIH0pOwogICAgICB9LCA1MDApOwogICAgfSwKICAgIGNsZWFyQ2l0eSgpIHsKICAgICAgdGhpcy5pbnB1dCA9IG51bGw7CiAgICB9LAogICAgdG9nZ2xlU3RhdGVEcm9wZG93bigpIHsKICAgICAgdGhpcy5hY3RpdmVTdGF0ZURyb3Bkb3duID09PSBmYWxzZQogICAgICAgID8gKHRoaXMuYWN0aXZlU3RhdGVEcm9wZG93biA9IHRydWUpCiAgICAgICAgOiAodGhpcy5hY3RpdmVTdGF0ZURyb3Bkb3duID0gZmFsc2UpOwogICAgfSwKICAgIHRvZ2dsZUNvdW50cnlEcm9wZG93bigpIHsKICAgICAgdGhpcy5hY3RpdmVDb3VudHJ5RHJvcGRvd24gPT09IGZhbHNlCiAgICAgICAgPyAodGhpcy5hY3RpdmVDb3VudHJ5RHJvcGRvd24gPSB0cnVlKQogICAgICAgIDogKHRoaXMuYWN0aXZlQ291bnRyeURyb3Bkb3duID0gZmFsc2UpOwogICAgfSwKICAgIHNlbGVjdFN0YXRlRHJvcGRvd25JdGVtKHN0YXRlKSB7CiAgICAgIHRoaXMuc3RhdGVzLm1hcCgoaXRlbSkgPT4gKGl0ZW0uaXNBY3RpdmUgPSBmYWxzZSkpOwogICAgICBzdGF0ZS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZS5hYmJyZXZpYXRpb247CiAgICAgIHRoaXMuc3RhdGVEcm9wZG93blRleHQgPSBzdGF0ZS5uYW1lOwogICAgICB0aGlzLmNvdW50cnkgPSBudWxsOwogICAgICB0aGlzLmNvdW50cnlEcm9wZG93blRleHQgPSAnU2VsZWN0IENvdW50cnknOwogICAgfSwKICAgIHNlbGVjdENvdW50cnlEcm9wZG93bkl0ZW0oY291bnRyeSkgewogICAgICB0aGlzLmNvdW50cmllcy5tYXAoKGl0ZW0pID0+IChpdGVtLmlzQWN0aXZlID0gZmFsc2UpKTsKICAgICAgY291bnRyeS5pc0FjdGl2ZSA9IHRydWU7CiAgICAgIHRoaXMuY291bnRyeSA9IGNvdW50cnkuYWJicmV2aWF0aW9uOwogICAgICB0aGlzLmNvdW50cnlEcm9wZG93blRleHQgPSBjb3VudHJ5Lm5hbWU7CiAgICAgIHRoaXMuc3RhdGUgPSBudWxsOwogICAgICB0aGlzLnN0YXRlRHJvcGRvd25UZXh0ID0gJ1NlbGVjdCBTdGF0ZSc7CiAgICB9LAogICAgc3RhdGVDYXNlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZQogICAgICAgIC50b0xvd2VyQ2FzZSgpCiAgICAgICAgLnNwbGl0KCcgJykKICAgICAgICAubWFwKCh3b3JkKSA9PiB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnN1YnN0cigxKSkKICAgICAgICAuam9pbignICcpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"dropdown-container\">\n      <div\n        class=\"dropdown is-left\"\n        :class=\"{ 'is-active': activeStateDropdown }\"\n        @click=\"toggleStateDropdown\"\n      >\n        <div class=\"dropdown-trigger\">\n          <button\n            class=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu3\"\n          >\n            <span>{{ stateCase(stateDropdownText) }}</span>\n            <span class=\"icon is-right\" id=\"icon\">\n              <i class=\"fa fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div class=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\n          <div class=\"dropdown-content\" id=\"dropdown-flex\">\n            <a\n              href=\"#\"\n              class=\"dropdown-item\"\n              :class=\"{ 'is-active': state.isActive }\"\n              v-for=\"state in states\"\n              :key=\"state.name\"\n              @click=\"selectStateDropdownItem(state)\"\n            >\n              {{ stateCase(state.name) }}\n            </a>\n          </div>\n        </div>\n      </div>\n      <h3 class=\"pl-2 pr-2 pt-1 is-size-5 has-text-weight-semibold\">OR</h3>\n\n      <div\n        class=\"dropdown is-right\"\n        :class=\"{ 'is-active': activeCountryDropdown }\"\n        @click=\"toggleCountryDropdown\"\n      >\n        <div class=\"dropdown-trigger\">\n          <button\n            class=\"button\"\n            aria-haspopup=\"true\"\n            aria-controls=\"dropdown-menu3\"\n          >\n            <span>{{ countryDropdownText }}</span>\n            <span class=\"icon is-right\" id=\"icon\">\n              <i class=\"fa fa-angle-down\"></i>\n            </span>\n          </button>\n        </div>\n        <div class=\"dropdown-menu\" id=\"dropdown-menu3\" role=\"menu\">\n          <div class=\"dropdown-content\" id=\"dropdown-flex\">\n            <a\n              href=\"#\"\n              class=\"dropdown-item\"\n              :class=\"{ 'is-active': country.isActive }\"\n              v-for=\"country in countries\"\n              :key=\"country.name\"\n              @click=\"selectCountryDropdownItem(country)\"\n            >\n              {{ country.name }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex-container\">\n      <div class=\"field\" id=\"input\">\n        <div class=\"control has-icons-left has-icons-right\">\n          <input\n            class=\"input is-info is-focused\"\n            type=\"text\"\n            placeholder=\"Search for city\"\n            v-model.lazy=\"input\"\n            @keyup.enter=\"searchImperial\"\n          />\n          <span class=\"icon is-left\">\n            <font-awesome-icon icon=\"search\" />\n          </span>\n          <span class=\"icon is-right\">\n            <a class=\"delete is-small\" @click=\"clearCity\"></a>\n          </span>\n        </div>\n      </div>\n    </div>\n    <div class=\"flex-container\">\n      <button\n        class=\"button is-info is-small\"\n        style=\"margin-top: 1em; margin-right: 1em\"\n        @click=\"searchImperial\"\n      >\n        Imperial\n      </button>\n      <button\n        class=\"button is-success is-small\"\n        style=\"margin-top: 1em\"\n        @click=\"searchMetric\"\n      >\n        Metric\n      </button>\n    </div>\n    <br />\n    <transition name=\"fade\">\n      <div v-if=\"currentWeather\">\n        <current-conditions\n          :forecastWeather=\"weatherForecast\"\n          :currentWeather=\"currentWeather\"\n          :unitSelected=\"selectedUnit\"\n          :isActive=\"toggleForecast\"\n          :cityData=\"currentCity.data\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport CurrentConditions from '@/components/CurrentConditions.vue';\nimport { mapGetters, mapActions } from 'vuex';\nimport worldCountries from '../../public/countries.js';\nimport states from '../../public/states.js';\n\nexport default {\n  name: 'Home',\n  components: {\n    CurrentConditions\n  },\n  data() {\n    return {\n      input: null,\n      state: null,\n      country: null,\n      city: null,\n      units: null,\n      cityCode: null,\n      countries: worldCountries,\n      states: states,\n      activeStateDropdown: false,\n      activeCountryDropdown: false,\n      stateDropdownText: 'Select State',\n      countryDropdownText: 'Select Country'\n    };\n  },\n  computed: {\n    getCityCode() {\n      return this.currentCity.data.map((obj) => obj.id);\n    },\n    getCityCoords() {\n      return this.currentCity.data.map((obj) => obj.coord);\n    },\n    ...mapGetters([\n      'currentWeather',\n      'weatherForecast',\n      'selectedUnit',\n      'toggleForecast',\n      'currentCity'\n    ])\n  },\n  methods: {\n    ...mapActions(['currentWeather', 'weatherForecast', 'addCity']),\n    ...mapActions({\n      weather: 'currentWeather',\n      forecast: 'weatherForecast',\n      addCity: 'addCity'\n    }),\n\n    searchImperial() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.units = 'imperial';\n\n      this.addCity({\n        city: this.city,\n        state: this.state,\n        country: this.country\n      });\n      setTimeout(() => {\n        this.cityCode = this.getCityCode[0];\n        this.weather({\n          city: this.cityCode,\n          unit: this.units\n        });\n        this.forecast({\n          city: this.cityCode,\n          unit: this.units\n        });\n      }, 500);\n    },\n    searchMetric() {\n      let str = this.input\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n      this.city = str;\n      this.units = 'metric';\n\n      this.addCity({\n        city: this.city,\n        state: this.state,\n        country: this.country\n      });\n\n      setTimeout(() => {\n        this.cityCode = this.getCityCode[0];\n        this.weather({\n          city: this.cityCode,\n          unit: this.units\n        });\n        this.forecast({\n          city: this.cityCode,\n          unit: this.units\n        });\n      }, 500);\n    },\n    clearCity() {\n      this.input = null;\n    },\n    toggleStateDropdown() {\n      this.activeStateDropdown === false\n        ? (this.activeStateDropdown = true)\n        : (this.activeStateDropdown = false);\n    },\n    toggleCountryDropdown() {\n      this.activeCountryDropdown === false\n        ? (this.activeCountryDropdown = true)\n        : (this.activeCountryDropdown = false);\n    },\n    selectStateDropdownItem(state) {\n      this.states.map((item) => (item.isActive = false));\n      state.isActive = true;\n      this.state = state.abbreviation;\n      this.stateDropdownText = state.name;\n      this.country = null;\n      this.countryDropdownText = 'Select Country';\n    },\n    selectCountryDropdownItem(country) {\n      this.countries.map((item) => (item.isActive = false));\n      country.isActive = true;\n      this.country = country.abbreviation;\n      this.countryDropdownText = country.name;\n      this.state = null;\n      this.stateDropdownText = 'Select State';\n    },\n    stateCase(state) {\n      return state\n        .toLowerCase()\n        .split(' ')\n        .map((word) => word[0].toUpperCase() + word.substr(1))\n        .join(' ');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.flex-container {\n  display: flex;\n  justify-content: center;\n}\n#input {\n  margin: 0.5em;\n}\n.dropdown-container {\n  display: flex;\n  justify-content: center;\n  margin: 1em;\n}\n#dropdown-flex {\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  height: 40em;\n}\n#icon {\n  padding-left: 0.5em;\n}\n</style>\n"]}]}